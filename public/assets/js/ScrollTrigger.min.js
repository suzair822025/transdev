/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
import{Observer,_getTarget,_vertical,_horizontal,_scrollers,_proxies,_getScrollFunc,_getProxyProp,_getVelocityProp}from"./Observer.js";let gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context,_scrollRestoration,_div100vh,_100vh,_isReverted,_clampingMax,_limitCallbacks,_rafID,_refreshingAll,_queueRefreshID,_primary,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_parseClamp=(e,r,t)=>{let i=_isString(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=i,i?e.substr(6,e.length-7):e},_keepClamp=(e,r)=>!r||_isString(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")",_rafBugFix=()=>_enabled&&requestAnimationFrame(_rafBugFix),_pointerDownHandler=()=>_pointerIsDown=1,_pointerUpHandler=()=>_pointerIsDown=0,_passThrough=e=>e,_round=e=>Math.round(1e5*e)/1e5||0,_windowExists=()=>"undefined"!=typeof window,_getGSAP=()=>gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap,_isViewport=e=>!!~_root.indexOf(e),_getViewportDimension=e=>("Height"===e?_100vh:_win["inner"+e])||_docEl["client"+e]||_body["client"+e],_getBoundsFunc=e=>_getProxyProp(e,"getBoundingClientRect")||(_isViewport(e)?()=>(_winOffsets.width=_win.innerWidth,_winOffsets.height=_100vh,_winOffsets):()=>_getBounds(e)),_getSizeFunc=(e,r,{d:t,d2:i,a:s})=>(s=_getProxyProp(e,"getBoundingClientRect"))?()=>s()[t]:()=>(r?_getViewportDimension(i):e["client"+i])||0,_getOffsetsFunc=(e,r)=>!r||~_proxies.indexOf(e)?_getBoundsFunc(e):()=>_winOffsets,_maxScroll=(e,{s:r,d2:t,d:i,a:s})=>Math.max(0,(r="scroll"+t)&&(s=_getProxyProp(e,r))?s()-_getBoundsFunc(e)()[i]:_isViewport(e)?(_docEl[r]||_body[r])-_getViewportDimension(t):e[r]-e["offset"+t]),_iterateAutoRefresh=(e,r)=>{for(let t=0;t<_autoRefresh.length;t+=3)(!r||~r.indexOf(_autoRefresh[t+1]))&&e(_autoRefresh[t],_autoRefresh[t+1],_autoRefresh[t+2])},_isString=e=>"string"==typeof e,_isFunction=e=>"function"==typeof e,_isNumber=e=>"number"==typeof e,_isObject=e=>"object"==typeof e,_endAnimation=(e,r,t)=>e&&e.progress(r?0:1)&&t&&e.pause(),_callback=(e,r)=>{if(e.enabled){let t=e._ctx?e._ctx.add((()=>r(e))):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},_abs=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle=e=>_win.getComputedStyle(e),_makePositionable=e=>{let r=_getComputedStyle(e).position;e.style.position="absolute"===r||"fixed"===r?r:"relative"},_setDefaults=(e,r)=>{for(let t in r)t in e||(e[t]=r[t]);return e},_getBounds=(e,r)=>{let t=r&&"matrix(1, 0, 0, 1, 0, 0)"!==_getComputedStyle(e)[_transformProp]&&gsap.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return t&&t.progress(0).kill(),i},_getSize=(e,{d2:r})=>e["offset"+r]||e["client"+r]||0,_getLabelRatioArray=e=>{let r,t=[],i=e.labels,s=e.duration();for(r in i)t.push(i[r]/s);return t},_getClosestLabel=e=>r=>gsap.utils.snap(_getLabelRatioArray(e),r),_snapDirectional=e=>{let r=gsap.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(((e,r)=>e-r));return t?(e,i,s=.001)=>{let o;if(!i)return r(e);if(i>0){for(e-=s,o=0;o<t.length;o++)if(t[o]>=e)return t[o];return t[o-1]}for(o=t.length,e+=s;o--;)if(t[o]<=e)return t[o];return t[0]}:(t,i,s=.001)=>{let o=r(t);return!i||Math.abs(o-t)<s||o-t<0==i<0?o:r(i<0?t-e:t+e)}},_getLabelAtDirection=e=>(r,t)=>_snapDirectional(_getLabelRatioArray(e))(r,t.direction),_multiListener=(e,r,t,i)=>t.split(",").forEach((t=>e(r,t,i))),_addListener=(e,r,t,i,s)=>e.addEventListener(r,t,{passive:!i,capture:!!s}),_removeListener=(e,r,t,i)=>e.removeEventListener(r,t,!!i),_wheelListener=(e,r,t)=>{(t=t&&t.wheelHandler)&&(e(r,"wheel",t),e(r,"touchmove",t))},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=(e,r)=>{if(_isString(e)){let t=e.indexOf("="),i=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(i*=r/100),e=e.substr(0,t-1)),e=i+(e in _keywords?_keywords[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},_createMarker=(e,r,t,i,{startColor:s,endColor:o,fontSize:l,indent:a,fontWeight:n},_,g,c)=>{let p=_doc.createElement("div"),d=_isViewport(t)||"fixed"===_getProxyProp(t,"pinType"),h=-1!==e.indexOf("scroller"),f=d?_body:t,u=-1!==e.indexOf("start"),m=u?s:o,v="border-color:"+m+";font-size:"+l+";color:"+m+";font-weight:"+n+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((h||c)&&d?"fixed;":"absolute;"),(h||c||!d)&&(v+=(i===_vertical?_right:_bottom)+":"+(_+parseFloat(a))+"px;"),g&&(v+="box-sizing:border-box;text-align:left;width:"+g.offsetWidth+"px;"),p._isStart=u,p.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),p.style.cssText=v,p.innerText=r||0===r?e+"-"+r:e,f.children[0]?f.insertBefore(p,f.children[0]):f.appendChild(p),p._offset=p["offset"+i.op.d2],_positionMarker(p,0,i,u),p},_positionMarker=(e,r,t,i)=>{let s={display:"block"},o=t[i?"os2":"p2"],l=t[i?"p2":"os2"];e._isFlipped=i,s[t.a+"Percent"]=i?-100:0,s[t.a]=i?"1px":0,s["border"+o+_Width]=1,s["border"+l+_Width]=0,s[t.p]=r+"px",gsap.set(e,s)},_triggers=[],_ids={},_sync=()=>_getTime()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll))),_onScroll=()=>{(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_normalizer?_rafID||(_rafID=requestAnimationFrame(_updateAll)):_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=()=>{_baseScreenWidth=_win.innerWidth,_baseScreenHeight=_win.innerHeight},_onResize=e=>{_scrollers.cache++,(!0===e||!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&!_doc.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win.innerWidth||Math.abs(_win.innerHeight-_baseScreenHeight)>.25*_win.innerHeight))&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_softRefresh=()=>_removeListener(ScrollTrigger,"scrollEnd",_softRefresh)||_refreshAll(!0),_dispatch=e=>_listeners[e]&&_listeners[e].map((e=>e()))||_emptyArray,_savedStyles=[],_revertRecorded=e=>{for(let r=0;r<_savedStyles.length;r+=5)(!e||_savedStyles[r+4]&&_savedStyles[r+4].query===e)&&(_savedStyles[r].style.cssText=_savedStyles[r+1],_savedStyles[r].getBBox&&_savedStyles[r].setAttribute("transform",_savedStyles[r+2]||""),_savedStyles[r+3].uncache=1)},_revertAll=(e,r)=>{let t;for(_i=0;_i<_triggers.length;_i++)t=_triggers[_i],!t||r&&t._ctx!==r||(e?t.kill(1):t.revert(!0,!0));_isReverted=!0,r&&_revertRecorded(r),r||_dispatch("revert")},_clearScrollMemory=(e,r)=>{_scrollers.cache++,(r||!_refreshingAll)&&_scrollers.forEach((e=>_isFunction(e)&&e.cacheID++&&(e.rec=0))),_isString(e)&&(_win.history.scrollRestoration=_scrollRestoration=e)},_refreshID=0,_queueRefreshAll=()=>{if(_queueRefreshID!==_refreshID){let e=_queueRefreshID=_refreshID;requestAnimationFrame((()=>e===_refreshID&&_refreshAll(!0)))}},_refresh100vh=()=>{_body.appendChild(_div100vh),_100vh=!_normalizer&&_div100vh.offsetHeight||_win.innerHeight,_body.removeChild(_div100vh)},_hideAllMarkers=e=>_toArray(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((r=>r.style.display=e?"none":"block")),_refreshAll=(e,r)=>{if(_docEl=_doc.documentElement,_body=_doc.body,_root=[_win,_doc,_docEl,_body],_lastScrollTime&&!e&&!_isReverted)return void _addListener(ScrollTrigger,"scrollEnd",_softRefresh);_refresh100vh(),_refreshingAll=ScrollTrigger.isRefreshing=!0,_scrollers.forEach((e=>_isFunction(e)&&++e.cacheID&&(e.rec=e())));let t=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),r||_revertAll(),_scrollers.forEach((e=>{_isFunction(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),_triggers.slice(0).forEach((e=>e.refresh())),_isReverted=!1,_triggers.forEach((e=>{if(e._subPinOffset&&e.pin){let r=e.vars.horizontal?"offsetWidth":"offsetHeight",t=e.pin[r];e.revert(!0,1),e.adjustPinSpacing(e.pin[r]-t),e.refresh()}})),_clampingMax=1,_hideAllMarkers(!0),_triggers.forEach((e=>{let r=_maxScroll(e.scroller,e._dir),t="max"===e.vars.end||e._endClamp&&e.end>r,i=e._startClamp&&e.start>=r;(t||i)&&e.setPositions(i?r-1:e.start,t?Math.max(i?r:e.start+1,r):e.end,!0)})),_hideAllMarkers(!1),_clampingMax=0,t.forEach((e=>e&&e.render&&e.render(-1))),_scrollers.forEach((e=>{_isFunction(e)&&(e.smooth&&requestAnimationFrame((()=>e.target.style.scrollBehavior="smooth")),e.rec&&e(e.rec))})),_clearScrollMemory(_scrollRestoration,1),_resizeDelay.pause(),_refreshID++,_refreshingAll=2,_updateAll(2),_triggers.forEach((e=>_isFunction(e.vars.onRefresh)&&e.vars.onRefresh(e))),_refreshingAll=ScrollTrigger.isRefreshing=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_updateAll=e=>{if(2===e||!_refreshingAll&&!_isReverted){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);let e=_triggers.length,r=_getTime(),t=r-_time1>=50,i=e&&_triggers[0].scroll();if(_direction=_lastScroll>i?-1:1,_refreshingAll||(_lastScroll=i),t&&(_lastScrollTime&&!_pointerIsDown&&r-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=r),_direction<0){for(_i=e;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,t);_direction=1}else for(_i=0;_i<e;_i++)_triggers[_i]&&_triggers[_i].update(0,t);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=(e,r,t)=>{_setState(t);let i=e._gsap;if(i.spacerIsNative)_setState(i.spacerState);else if(e._gsap.swappedIn){let t=r.parentNode;t&&(t.insertBefore(e,r),t.removeChild(r))}e._gsap.swappedIn=!1},_swapPinIn=(e,r,t,i)=>{if(!e._gsap.swappedIn){let s,o=_propNamesToCopy.length,l=r.style,a=e.style;for(;o--;)s=_propNamesToCopy[o],l[s]=t[s];l.position="absolute"===t.position?"absolute":"relative","inline"===t.display&&(l.display="inline-block"),a[_bottom]=a[_right]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[_width]=_getSize(e,_horizontal)+_px,l[_height]=_getSize(e,_vertical)+_px,l[_padding]=a[_margin]=a[_top]=a[_left]="0",_setState(i),a[_width]=a["max"+_Width]=t[_width],a[_height]=a["max"+_Height]=t[_height],a[_padding]=t[_padding],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=e=>{if(e){let r,t,i=e.t.style,s=e.length,o=0;for((e.t._gsap||gsap.core.getCache(e.t)).uncache=1;o<s;o+=2)t=e[o+1],r=e[o],t?i[r]=t:i[r]&&i.removeProperty(r.replace(_capsExp,"-$1").toLowerCase())}},_getState=e=>{let r=_stateProps.length,t=e.style,i=[],s=0;for(;s<r;s++)i.push(_stateProps[s],t[_stateProps[s]]);return i.t=e,i},_copyState=(e,r,t)=>{let i,s=[],o=e.length,l=t?8:0;for(;l<o;l+=2)i=e[l],s.push(i,i in r?r[i]:e[l+1]);return s.t=e.t,s},_winOffsets={left:0,top:0},_parsePosition=(e,r,t,i,s,o,l,a,n,_,g,c,p,d)=>{_isFunction(e)&&(e=e(a)),_isString(e)&&"max"===e.substr(0,3)&&(e=c+("="===e.charAt(4)?_offsetToPx("0"+e.substr(3),t):0));let h,f,u,m=p?p.time():0;if(p&&p.seek(0),isNaN(e)||(e=+e),_isNumber(e))p&&(e=gsap.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,c,e)),l&&_positionMarker(l,t,i,!0);else{_isFunction(r)&&(r=r(a));let o,g,c,p,d=(e||"0").split(" ");u=_getTarget(r,a)||_body,o=_getBounds(u)||{},o&&(o.left||o.top)||"none"!==_getComputedStyle(u).display||(p=u.style.display,u.style.display="block",o=_getBounds(u),p?u.style.display=p:u.style.removeProperty("display")),g=_offsetToPx(d[0],o[i.d]),c=_offsetToPx(d[1]||"0",t),e=o[i.p]-n[i.p]-_+g+s-c,l&&_positionMarker(l,c,i,t-c<20||l._isStart&&c>20),t-=t-c}if(d&&(a[d]=e||-.001,e<0&&(e=0)),o){let r=e+t,s=o._isStart;h="scroll"+i.d2,_positionMarker(o,r,i,s&&r>20||!s&&(g?Math.max(_body[h],_docEl[h]):o.parentNode[h])<=r+1),g&&(n=_getBounds(l),g&&(o.style[i.op.p]=n[i.op.p]-i.op.m-o._offset+_px))}return p&&u&&(h=_getBounds(u),p.seek(c),f=_getBounds(u),p._caScrollDist=h[i.p]-f[i.p],e=e/p._caScrollDist*c),p&&p.seek(m),p?e:Math.round(e)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=(e,r,t,i)=>{if(e.parentNode!==r){let s,o,l=e.style;if(r===_body){for(s in e._stOrig=l.cssText,o=_getComputedStyle(e),o)+s||_prefixExp.test(s)||!o[s]||"string"!=typeof l[s]||"0"===s||(l[s]=o[s]);l.top=t,l.left=i}else l.cssText=e._stOrig;gsap.core.getCache(e).uncache=1,r.appendChild(e)}},_interruptionTracker=(e,r,t)=>{let i=r,s=i;return r=>{let o=Math.round(e());return o!==i&&o!==s&&Math.abs(o-i)>3&&Math.abs(o-s)>3&&(r=o,t&&t()),s=i,i=Math.round(r),i}},_shiftMarker=(e,r,t)=>{let i={};i[r.p]="+="+t,gsap.set(e,i)},_getTweenCreator=(e,r)=>{let t=_getScrollFunc(e,r),i="_scroll"+r.p2,s=(r,o,l,a,n)=>{let _=s.tween,g=o.onComplete,c={};l=l||t();let p=_interruptionTracker(t,l,(()=>{_.kill(),s.tween=0}));return n=a&&n||0,a=a||r-l,_&&_.kill(),o[i]=r,o.inherit=!1,o.modifiers=c,c[i]=()=>p(l+a*_.ratio+n*_.ratio*_.ratio),o.onUpdate=()=>{_scrollers.cache++,s.tween&&_updateAll()},o.onComplete=()=>{s.tween=0,g&&g.call(_)},_=s.tween=gsap.to(e,o),_};return e[i]=t,t.wheelHandler=()=>s.tween&&s.tween.kill()&&(s.tween=0),_addListener(e,"wheel",t.wheelHandler),ScrollTrigger.isTouch&&_addListener(e,"touchmove",t.wheelHandler),s};export class ScrollTrigger{constructor(e,r){_coreInitted||ScrollTrigger.register(gsap),_context(this),this.init(e,r)}init(e,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!_enabled)return void(this.update=this.refresh=this.kill=_passThrough);e=_setDefaults(_isString(e)||_isNumber(e)||e.nodeType?{trigger:e}:e,_defaults);let t,i,s,o,l,a,n,_,g,c,p,d,h,f,u,m,v,y,S,b,w,x,T,A,k,C,P,R,O,E,z,I,L,M,D,B,F,N,H,{onUpdate:W,toggleClass:V,id:Y,onToggle:q,onRefresh:U,scrub:j,trigger:X,pin:G,pinSpacing:K,invalidateOnRefresh:Z,anticipatePin:$,onScrubComplete:J,onSnapComplete:Q,once:ee,snap:re,pinReparent:te,pinSpacer:ie,containerAnimation:se,fastScrollEnd:oe,preventOverlaps:le}=e,ae=e.horizontal||e.containerAnimation&&!1!==e.horizontal?_horizontal:_vertical,ne=!j&&0!==j,_e=_getTarget(e.scroller||_win),ge=gsap.core.getCache(_e),ce=_isViewport(_e),pe="fixed"===("pinType"in e?e.pinType:_getProxyProp(_e,"pinType")||ce&&"fixed"),de=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],he=ne&&e.toggleActions.split(" "),fe="markers"in e?e.markers:_defaults.markers,ue=ce?0:parseFloat(_getComputedStyle(_e)["border"+ae.p2+_Width])||0,me=this,ve=e.onRefreshInit&&(()=>e.onRefreshInit(me)),ye=_getSizeFunc(_e,ce,ae),Se=_getOffsetsFunc(_e,ce),be=0,we=0,xe=0,Te=_getScrollFunc(_e,ae);if(me._startClamp=me._endClamp=!1,me._dir=ae,$*=45,me.scroller=_e,me.scroll=se?se.time.bind(se):Te,o=Te(),me.vars=e,r=r||e.animation,"refreshPriority"in e&&(_sort=1,-9999===e.refreshPriority&&(_primary=me)),ge.tweenScroll=ge.tweenScroll||{top:_getTweenCreator(_e,_vertical),left:_getTweenCreator(_e,_horizontal)},me.tweenTo=t=ge.tweenScroll[ae.p],me.scrubDuration=e=>{L=_isNumber(e)&&e,L?I?I.duration(e):I=gsap.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:L,paused:!0,onComplete:()=>J&&J(me)}):(I&&I.progress(1).kill(),I=0)},r&&(r.vars.lazy=!1,r._initted&&!me.isReverted||!1!==r.vars.immediateRender&&!1!==e.immediateRender&&r.duration()&&r.render(0,!0,!0),me.animation=r.pause(),r.scrollTrigger=me,me.scrubDuration(j),E=0,Y||(Y=r.vars.id)),re&&(_isObject(re)&&!re.push||(re={snapTo:re}),"scrollBehavior"in _body.style&&gsap.set(ce?[_body,_docEl]:_e,{scrollBehavior:"auto"}),_scrollers.forEach((e=>_isFunction(e)&&e.target===(ce?_doc.scrollingElement||_docEl:_e)&&(e.smooth=!1))),s=_isFunction(re.snapTo)?re.snapTo:"labels"===re.snapTo?_getClosestLabel(r):"labelsDirectional"===re.snapTo?_getLabelAtDirection(r):!1!==re.directional?(e,r)=>_snapDirectional(re.snapTo)(e,_getTime()-we<500?0:r.direction):gsap.utils.snap(re.snapTo),M=re.duration||{min:.1,max:2},M=_isObject(M)?_clamp(M.min,M.max):_clamp(M,M),D=gsap.delayedCall(re.delay||L/2||.1,(()=>{let e=Te(),i=_getTime()-we<500,o=t.tween;if(!(i||Math.abs(me.getVelocity())<10)||o||_pointerIsDown||be===e)me.isActive&&be!==e&&D.restart(!0);else{let l,_,g=(e-a)/f,c=r&&!ne?r.totalProgress():g,p=i?0:(c-z)/(_getTime()-_time2)*1e3||0,d=gsap.utils.clamp(-g,1-g,_abs(p/2)*p/.185),h=g+(!1===re.inertia?0:d),{onStart:u,onInterrupt:m,onComplete:v}=re;if(l=s(h,me),_isNumber(l)||(l=h),_=Math.max(0,Math.round(a+l*f)),e<=n&&e>=a&&_!==e){if(o&&!o._initted&&o.data<=_abs(_-e))return;!1===re.inertia&&(d=l-g),t(_,{duration:M(_abs(.185*Math.max(_abs(h-c),_abs(l-c))/p/.05||0)),ease:re.ease||"power3",data:_abs(_-e),onInterrupt:()=>D.restart(!0)&&m&&m(me),onComplete(){me.update(),be=Te(),r&&!ne&&(I?I.resetTo("totalProgress",l,r._tTime/r._tDur):r.progress(l)),E=z=r&&!ne?r.totalProgress():me.progress,Q&&Q(me),v&&v(me)}},e,d*f,_-e-d*f),u&&u(me,t.tween)}}})).pause()),Y&&(_ids[Y]=me),X=me.trigger=_getTarget(X||!0!==G&&G),H=X&&X._gsap&&X._gsap.stRevert,H&&(H=H(me)),G=!0===G?X:_getTarget(G),_isString(V)&&(V={targets:X,className:V}),G&&(!1===K||K===_margin||(K=!(!K&&G.parentNode&&G.parentNode.style&&"flex"===_getComputedStyle(G.parentNode).display)&&_padding),me.pin=G,i=gsap.core.getCache(G),i.spacer?u=i.pinState:(ie&&(ie=_getTarget(ie),ie&&!ie.nodeType&&(ie=ie.current||ie.nativeElement),i.spacerIsNative=!!ie,ie&&(i.spacerState=_getState(ie))),i.spacer=y=ie||_doc.createElement("div"),y.classList.add("pin-spacer"),Y&&y.classList.add("pin-spacer-"+Y),i.pinState=u=_getState(G)),!1!==e.force3D&&gsap.set(G,{force3D:!0}),me.spacer=y=i.spacer,O=_getComputedStyle(G),A=O[K+ae.os2],b=gsap.getProperty(G),w=gsap.quickSetter(G,ae.a,_px),_swapPinIn(G,y,O),v=_getState(G)),fe){d=_isObject(fe)?_setDefaults(fe,_markerDefaults):_markerDefaults,c=_createMarker("scroller-start",Y,_e,ae,d,0),p=_createMarker("scroller-end",Y,_e,ae,d,0,c),S=c["offset"+ae.op.d2];let e=_getTarget(_getProxyProp(_e,"content")||_e);_=this.markerStart=_createMarker("start",Y,e,ae,d,S,0,se),g=this.markerEnd=_createMarker("end",Y,e,ae,d,S,0,se),se&&(N=gsap.quickSetter([_,g],ae.a,_px)),pe||_proxies.length&&!0===_getProxyProp(_e,"fixedMarkers")||(_makePositionable(ce?_body:_e),gsap.set([c,p],{force3D:!0}),C=gsap.quickSetter(c,ae.a,_px),R=gsap.quickSetter(p,ae.a,_px))}if(se){let e=se.vars.onUpdate,r=se.vars.onUpdateParams;se.eventCallback("onUpdate",(()=>{me.update(0,0,1),e&&e.apply(se,r||[])}))}if(me.previous=()=>_triggers[_triggers.indexOf(me)-1],me.next=()=>_triggers[_triggers.indexOf(me)+1],me.revert=(e,t)=>{if(!t)return me.kill(!0);let i=!1!==e||!me.enabled,s=_refreshing;i!==me.isReverted&&(i&&(B=Math.max(Te(),me.scroll.rec||0),xe=me.progress,F=r&&r.progress()),_&&[_,g,c,p].forEach((e=>e.style.display=i?"none":"block")),i&&(_refreshing=me,me.update(i)),!G||te&&me.isActive||(i?_swapPinOut(G,y,u):_swapPinIn(G,y,_getComputedStyle(G),k)),i||me.update(i),_refreshing=s,me.isReverted=i)},me.refresh=(i,s,d,S)=>{if((_refreshing||!me.enabled)&&!s)return;if(G&&i&&_lastScrollTime)return void _addListener(ScrollTrigger,"scrollEnd",_softRefresh);!_refreshingAll&&ve&&ve(me),_refreshing=me,t.tween&&!d&&(t.tween.kill(),t.tween=0),I&&I.pause(),Z&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach((e=>e.vars.immediateRender&&e.render(0,!0,!0)))),me.isReverted||me.revert(!0,!0),me._subPinOffset=!1;let w,A,C,R,O,E,z,L,M,N,H,W,V,Y=ye(),q=Se(),j=se?se.duration():_maxScroll(_e,ae),$=f<=.01||!f,J=0,Q=S||0,ee=_isObject(d)?d.end:e.end,re=e.endTrigger||X,ie=_isObject(d)?d.start:e.start||(0!==e.start&&X?G?"0 0":"0 100%":0),oe=me.pinnedContainer=e.pinnedContainer&&_getTarget(e.pinnedContainer,me),le=X&&Math.max(0,_triggers.indexOf(me))||0,ge=le;for(fe&&_isObject(d)&&(W=gsap.getProperty(c,ae.p),V=gsap.getProperty(p,ae.p));ge-- >0;)E=_triggers[ge],E.end||E.refresh(0,1)||(_refreshing=me),z=E.pin,!z||z!==X&&z!==G&&z!==oe||E.isReverted||(N||(N=[]),N.unshift(E),E.revert(!0,!0)),E!==_triggers[ge]&&(le--,ge--);for(_isFunction(ie)&&(ie=ie(me)),ie=_parseClamp(ie,"start",me),a=_parsePosition(ie,X,Y,ae,Te(),_,c,me,q,ue,pe,j,se,me._startClamp&&"_startClamp")||(G?-.001:0),_isFunction(ee)&&(ee=ee(me)),_isString(ee)&&!ee.indexOf("+=")&&(~ee.indexOf(" ")?ee=(_isString(ie)?ie.split(" ")[0]:"")+ee:(J=_offsetToPx(ee.substr(2),Y),ee=_isString(ie)?ie:(se?gsap.utils.mapRange(0,se.duration(),se.scrollTrigger.start,se.scrollTrigger.end,a):a)+J,re=X)),ee=_parseClamp(ee,"end",me),n=Math.max(a,_parsePosition(ee||(re?"100% 0":j),re,Y,ae,Te()+J,g,p,me,q,ue,pe,j,se,me._endClamp&&"_endClamp"))||-.001,J=0,ge=le;ge--;)E=_triggers[ge],z=E.pin,z&&E.start-E._pinPush<=a&&!se&&E.end>0&&(w=E.end-(me._startClamp?Math.max(0,E.start):E.start),(z===X&&E.start-E._pinPush<a||z===oe)&&isNaN(ie)&&(J+=w*(1-E.progress)),z===G&&(Q+=w));if(a+=J,n+=J,me._startClamp&&(me._startClamp+=J),me._endClamp&&!_refreshingAll&&(me._endClamp=n||-.001,n=Math.min(n,_maxScroll(_e,ae))),f=n-a||(a-=.01)&&.001,$&&(xe=gsap.utils.clamp(0,1,gsap.utils.normalize(a,n,B))),me._pinPush=Q,_&&J&&(w={},w[ae.a]="+="+J,oe&&(w[ae.p]="-="+Te()),gsap.set([_,g],w)),!G||_clampingMax&&me.end>=_maxScroll(_e,ae)){if(X&&Te()&&!se)for(A=X.parentNode;A&&A!==_body;)A._pinOffset&&(a-=A._pinOffset,n-=A._pinOffset),A=A.parentNode}else w=_getComputedStyle(G),R=ae===_vertical,C=Te(),x=parseFloat(b(ae.a))+Q,!j&&n>1&&(H=(ce?_doc.scrollingElement||_docEl:_e).style,H={style:H,value:H["overflow"+ae.a.toUpperCase()]},ce&&"scroll"!==_getComputedStyle(_body)["overflow"+ae.a.toUpperCase()]&&(H.style["overflow"+ae.a.toUpperCase()]="scroll")),_swapPinIn(G,y,w),v=_getState(G),A=_getBounds(G,!0),L=pe&&_getScrollFunc(_e,R?_horizontal:_vertical)(),K?(k=[K+ae.os2,f+Q+_px],k.t=y,ge=K===_padding?_getSize(G,ae)+f+Q:0,ge&&(k.push(ae.d,ge+_px),"auto"!==y.style.flexBasis&&(y.style.flexBasis=ge+_px)),_setState(k),oe&&_triggers.forEach((e=>{e.pin===oe&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),pe&&Te(B)):(ge=_getSize(G,ae),ge&&"auto"!==y.style.flexBasis&&(y.style.flexBasis=ge+_px)),pe&&(O={top:A.top+(R?C-a:L)+_px,left:A.left+(R?L:C-a)+_px,boxSizing:"border-box",position:"fixed"},O[_width]=O["max"+_Width]=Math.ceil(A.width)+_px,O[_height]=O["max"+_Height]=Math.ceil(A.height)+_px,O[_margin]=O[_margin+_Top]=O[_margin+_Right]=O[_margin+_Bottom]=O[_margin+_Left]="0",O[_padding]=w[_padding],O[_padding+_Top]=w[_padding+_Top],O[_padding+_Right]=w[_padding+_Right],O[_padding+_Bottom]=w[_padding+_Bottom],O[_padding+_Left]=w[_padding+_Left],m=_copyState(u,O,te),_refreshingAll&&Te(0)),r?(M=r._initted,_suppressOverwrites(1),r.render(r.duration(),!0,!0),T=b(ae.a)-x+f+Q,P=Math.abs(f-T)>1,pe&&P&&m.splice(m.length-2,2),r.render(0,!0,!0),M||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),_suppressOverwrites(0)):T=f,H&&(H.value?H.style["overflow"+ae.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+ae.a));N&&N.forEach((e=>e.revert(!1,!0))),me.start=a,me.end=n,o=l=_refreshingAll?B:Te(),se||_refreshingAll||(o<B&&Te(B),me.scroll.rec=0),me.revert(!1,!0),we=_getTime(),D&&(be=-1,D.restart(!0)),_refreshing=0,r&&ne&&(r._initted||F)&&r.progress()!==F&&r.progress(F||0,!0).render(r.time(),!0,!0),($||xe!==me.progress||se||Z||r&&!r._initted)&&(r&&!ne&&(r._initted||xe||!1!==r.vars.immediateRender)&&r.totalProgress(se&&a<-.001&&!xe?gsap.utils.normalize(a,n,0):xe,!0),me.progress=$||(o-a)/f===xe?0:xe),G&&K&&(y._pinOffset=Math.round(me.progress*T)),I&&I.invalidate(),isNaN(W)||(W-=gsap.getProperty(c,ae.p),V-=gsap.getProperty(p,ae.p),_shiftMarker(c,ae,W),_shiftMarker(_,ae,W-(S||0)),_shiftMarker(p,ae,V),_shiftMarker(g,ae,V-(S||0))),$&&!_refreshingAll&&me.update(),!U||_refreshingAll||h||(h=!0,U(me),h=!1)},me.getVelocity=()=>(Te()-l)/(_getTime()-_time2)*1e3||0,me.endAnimation=()=>{_endAnimation(me.callbackAnimation),r&&(I?I.progress(1):r.paused()?ne||_endAnimation(r,me.direction<0,1):_endAnimation(r,r.reversed()))},me.labelToScroll=e=>r&&r.labels&&(a||me.refresh()||a)+r.labels[e]/r.duration()*f||0,me.getTrailing=e=>{let r=_triggers.indexOf(me),t=me.direction>0?_triggers.slice(0,r).reverse():_triggers.slice(r+1);return(_isString(e)?t.filter((r=>r.vars.preventOverlaps===e)):t).filter((e=>me.direction>0?e.end<=a:e.start>=n))},me.update=(e,i,s)=>{if(se&&!s&&!e)return;let _,g,p,d,h,u,S,b,k=!0===_refreshingAll?B:me.scroll(),O=e?0:(k-a)/f,L=O<0?0:O>1?1:O||0,M=me.progress;if(i&&(l=o,o=se?Te():k,re&&(z=E,E=r&&!ne?r.totalProgress():L)),$&&G&&!_refreshing&&!_startup&&_lastScrollTime&&(!L&&a<k+(k-l)/(_getTime()-_time2)*$?L=1e-4:1===L&&n>k+(k-l)/(_getTime()-_time2)*$&&(L=.9999)),L!==M&&me.enabled){if(_=me.isActive=!!L&&L<1,g=!!M&&M<1,u=_!==g,h=u||!!L!=!!M,me.direction=L>M?1:-1,me.progress=L,h&&!_refreshing&&(p=L&&!M?0:1===L?1:1===M?2:3,ne&&(d=!u&&"none"!==he[p+1]&&he[p+1]||he[p],b=r&&("complete"===d||"reset"===d||d in r))),le&&(u||b)&&(b||j||!r)&&(_isFunction(le)?le(me):me.getTrailing(le).forEach((e=>e.endAnimation()))),ne||(!I||_refreshing||_startup?r&&r.totalProgress(L,!(!_refreshing||!we&&!e)):(I._dp._time-I._start!==I._time&&I.render(I._dp._time-I._start),I.resetTo?I.resetTo("totalProgress",L,r._tTime/r._tDur):(I.vars.totalProgress=L,I.invalidate().restart()))),G)if(e&&K&&(y.style[K+ae.os2]=A),pe){if(h){if(S=!e&&L>M&&n+1>k&&k+1>=_maxScroll(_e,ae),te)if(e||!_&&!S)_reparent(G,y);else{let e=_getBounds(G,!0),r=k-a;_reparent(G,_body,e.top+(ae===_vertical?r:0)+_px,e.left+(ae===_vertical?0:r)+_px)}_setState(_||S?m:v),P&&L<1&&_||w(x+(1!==L||S?0:T))}}else w(_round(x+T*L));re&&!t.tween&&!_refreshing&&!_startup&&D.restart(!0),V&&(u||ee&&L&&(L<1||!_limitCallbacks))&&_toArray(V.targets).forEach((e=>e.classList[_||ee?"add":"remove"](V.className))),W&&!ne&&!e&&W(me),h&&!_refreshing?(ne&&(b&&("complete"===d?r.pause().totalProgress(1):"reset"===d?r.restart(!0).pause():"restart"===d?r.restart(!0):r[d]()),W&&W(me)),!u&&_limitCallbacks||(q&&u&&_callback(me,q),de[p]&&_callback(me,de[p]),ee&&(1===L?me.kill(!1,1):de[p]=0),u||(p=1===L?1:3,de[p]&&_callback(me,de[p]))),oe&&!_&&Math.abs(me.getVelocity())>(_isNumber(oe)?oe:2500)&&(_endAnimation(me.callbackAnimation),I?I.progress(1):_endAnimation(r,"reverse"===d?1:!L,1))):ne&&W&&!_refreshing&&W(me)}if(R){let e=se?k/se.duration()*(se._caScrollDist||0):k;C(e+(c._isFlipped?1:0)),R(e)}N&&N(-k/se.duration()*(se._caScrollDist||0))},me.enable=(e,r)=>{me.enabled||(me.enabled=!0,_addListener(_e,"resize",_onResize),ce||_addListener(_e,"scroll",_onScroll),ve&&_addListener(ScrollTrigger,"refreshInit",ve),!1!==e&&(me.progress=xe=0,o=l=be=Te()),!1!==r&&me.refresh())},me.getTween=e=>e&&t?t.tween:I,me.setPositions=(e,r,t,i)=>{if(se){let t=se.scrollTrigger,i=se.duration(),s=t.end-t.start;e=t.start+s*e/i,r=t.start+s*r/i}me.refresh(!1,!1,{start:_keepClamp(e,t&&!!me._startClamp),end:_keepClamp(r,t&&!!me._endClamp)},i),me.update()},me.adjustPinSpacing=e=>{if(k&&e){let r=k.indexOf(ae.d)+1;k[r]=parseFloat(k[r])+e+_px,k[1]=parseFloat(k[1])+e+_px,_setState(k)}},me.disable=(e,r)=>{if(me.enabled&&(!1!==e&&me.revert(!0,!0),me.enabled=me.isActive=!1,r||I&&I.pause(),B=0,i&&(i.uncache=1),ve&&_removeListener(ScrollTrigger,"refreshInit",ve),D&&(D.pause(),t.tween&&t.tween.kill()&&(t.tween=0)),!ce)){let e=_triggers.length;for(;e--;)if(_triggers[e].scroller===_e&&_triggers[e]!==me)return;_removeListener(_e,"resize",_onResize),ce||_removeListener(_e,"scroll",_onScroll)}},me.kill=(t,s)=>{me.disable(t,s),I&&!s&&I.kill(),Y&&delete _ids[Y];let o=_triggers.indexOf(me);o>=0&&_triggers.splice(o,1),o===_i&&_direction>0&&_i--,o=0,_triggers.forEach((e=>e.scroller===me.scroller&&(o=1))),o||_refreshingAll||(me.scroll.rec=0),r&&(r.scrollTrigger=null,t&&r.revert({kill:!1}),s||r.kill()),_&&[_,g,c,p].forEach((e=>e.parentNode&&e.parentNode.removeChild(e))),_primary===me&&(_primary=0),G&&(i&&(i.uncache=1),o=0,_triggers.forEach((e=>e.pin===G&&o++)),o||(i.spacer=0)),e.onKill&&e.onKill(me)},_triggers.push(me),me.enable(!1,!1),H&&H(me),r&&r.add&&!f){let e=me.update;me.update=()=>{me.update=e,_scrollers.cache++,a||n||me.refresh()},gsap.delayedCall(.01,me.update),f=.01,a=n=0}else me.refresh();G&&_queueRefreshAll()}static register(e){return _coreInitted||(gsap=e||_getGSAP(),_windowExists()&&window.document&&ScrollTrigger.enable(),_coreInitted=_enabled),_coreInitted}static defaults(e){if(e)for(let r in e)_defaults[r]=e[r];return _defaults}static disable(e,r){_enabled=0,_triggers.forEach((t=>t[r?"kill":"disable"](e))),_removeListener(_win,"wheel",_onScroll),_removeListener(_doc,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(let e=0;e<_scrollers.length;e+=3)_wheelListener(_removeListener,_scrollers[e],_scrollers[e+1]),_wheelListener(_removeListener,_scrollers[e],_scrollers[e+2])}static enable(){if(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body,gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_context=gsap.core.context||_passThrough,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,_scrollRestoration=_win.history.scrollRestoration||"auto",_lastScroll=_win.pageYOffset||0,gsap.core.globals("ScrollTrigger",ScrollTrigger),_body)){_enabled=1,_div100vh=document.createElement("div"),_div100vh.style.height="100vh",_div100vh.style.position="absolute",_refresh100vh(),_rafBugFix(),Observer.register(gsap),ScrollTrigger.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_ignoreMobileResize=1===Observer.isTouch,_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],gsap.matchMedia&&(ScrollTrigger.matchMedia=e=>{let r,t=gsap.matchMedia();for(r in e)t.add(r,e[r]);return t},gsap.addEventListener("matchMediaInit",(()=>_revertAll())),gsap.addEventListener("matchMediaRevert",(()=>_revertRecorded())),gsap.addEventListener("matchMedia",(()=>{_refreshAll(0,1),_dispatch("matchMedia")})),gsap.matchMedia().add("(orientation: portrait)",(()=>(_setBaseDimensions(),_setBaseDimensions)))),_setBaseDimensions(),_addListener(_doc,"scroll",_onScroll);let e,r,t=_body.hasAttribute("style"),i=_body.style,s=i.borderTopStyle,o=gsap.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",e=_getBounds(_body),_vertical.m=Math.round(e.top+_vertical.sc())||0,_horizontal.m=Math.round(e.left+_horizontal.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),t||(_body.setAttribute("style",""),_body.removeAttribute("style")),_syncInterval=setInterval(_sync,250),gsap.delayedCall(.5,(()=>_startup=0)),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",()=>{let e=_win.innerWidth,r=_win.innerHeight;_doc.hidden?(_prevWidth=e,_prevHeight=r):_prevWidth===e&&_prevHeight===r||_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",_refreshAll,_win,"resize",_onResize],_iterateAutoRefresh(_addListener),_triggers.forEach((e=>e.enable(0,1))),r=0;r<_scrollers.length;r+=3)_wheelListener(_removeListener,_scrollers[r],_scrollers[r+1]),_wheelListener(_removeListener,_scrollers[r],_scrollers[r+2])}}static config(e){"limitCallbacks"in e&&(_limitCallbacks=!!e.limitCallbacks);let r=e.syncInterval;r&&clearInterval(_syncInterval)||(_syncInterval=r)&&setInterval(_sync,r),"ignoreMobileResize"in e&&(_ignoreMobileResize=1===ScrollTrigger.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,e.autoRefreshEvents||"none"),_ignoreResize=-1===(e.autoRefreshEvents+"").indexOf("resize"))}static scrollerProxy(e,r){let t=_getTarget(e),i=_scrollers.indexOf(t),s=_isViewport(t);~i&&_scrollers.splice(i,s?6:2),r&&(s?_proxies.unshift(_win,r,_body,r,_docEl,r):_proxies.unshift(t,r))}static clearMatchMedia(e){_triggers.forEach((r=>r._ctx&&r._ctx.query===e&&r._ctx.kill(!0,!0)))}static isInViewport(e,r,t){let i=(_isString(e)?_getTarget(e):e).getBoundingClientRect(),s=i[t?_width:_height]*r||0;return t?i.right-s>0&&i.left+s<_win.innerWidth:i.bottom-s>0&&i.top+s<_win.innerHeight}static positionInViewport(e,r,t){_isString(e)&&(e=_getTarget(e));let i=e.getBoundingClientRect(),s=i[t?_width:_height],o=null==r?s/2:r in _keywords?_keywords[r]*s:~r.indexOf("%")?parseFloat(r)*s/100:parseFloat(r)||0;return t?(i.left+o)/_win.innerWidth:(i.top+o)/_win.innerHeight}static killAll(e){if(_triggers.slice(0).forEach((e=>"ScrollSmoother"!==e.vars.id&&e.kill())),!0!==e){let e=_listeners.killAll||[];_listeners={},e.forEach((e=>e()))}}}ScrollTrigger.version="3.13.0",ScrollTrigger.saveStyles=e=>e?_toArray(e).forEach((e=>{if(e&&e.style){let r=_savedStyles.indexOf(e);r>=0&&_savedStyles.splice(r,5),_savedStyles.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),gsap.core.getCache(e),_context())}})):_savedStyles,ScrollTrigger.revert=(e,r)=>_revertAll(!e,r),ScrollTrigger.create=(e,r)=>new ScrollTrigger(e,r),ScrollTrigger.refresh=e=>e?_onResize(!0):(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0),ScrollTrigger.update=e=>++_scrollers.cache&&_updateAll(!0===e?2:0),ScrollTrigger.clearScrollMemory=_clearScrollMemory,ScrollTrigger.maxScroll=(e,r)=>_maxScroll(e,r?_horizontal:_vertical),ScrollTrigger.getScrollFunc=(e,r)=>_getScrollFunc(_getTarget(e),r?_horizontal:_vertical),ScrollTrigger.getById=e=>_ids[e],ScrollTrigger.getAll=()=>_triggers.filter((e=>"ScrollSmoother"!==e.vars.id)),ScrollTrigger.isScrolling=()=>!!_lastScrollTime,ScrollTrigger.snapDirectional=_snapDirectional,ScrollTrigger.addEventListener=(e,r)=>{let t=_listeners[e]||(_listeners[e]=[]);~t.indexOf(r)||t.push(r)},ScrollTrigger.removeEventListener=(e,r)=>{let t=_listeners[e],i=t&&t.indexOf(r);i>=0&&t.splice(i,1)},ScrollTrigger.batch=(e,r)=>{let t,i=[],s={},o=r.interval||.016,l=r.batchMax||1e9,a=(e,r)=>{let t=[],i=[],s=gsap.delayedCall(o,(()=>{r(t,i),t=[],i=[]})).pause();return e=>{t.length||s.restart(!0),t.push(e.trigger),i.push(e),l<=t.length&&s.progress(1)}};for(t in r)s[t]="on"===t.substr(0,2)&&_isFunction(r[t])&&"onRefreshInit"!==t?a(0,r[t]):r[t];return _isFunction(l)&&(l=l(),_addListener(ScrollTrigger,"refresh",(()=>l=r.batchMax()))),_toArray(e).forEach((e=>{let r={};for(t in s)r[t]=s[t];r.trigger=e,i.push(ScrollTrigger.create(r))})),i};let _inputIsFocused,_clampScrollAndGetDurationMultiplier=(e,r,t,i)=>(r>i?e(i):r<0&&e(0),t>i?(i-r)/(t-r):t<0?r/(r-t):1),_allowNativePanning=(e,r)=>{!0===r?e.style.removeProperty("touch-action"):e.style.touchAction=!0===r?"auto":r?"pan-"+r+(Observer.isTouch?" pinch-zoom":""):"none",e===_docEl&&_allowNativePanning(_body,r)},_overflow={auto:1,scroll:1},_nestedScroll=({event:e,target:r,axis:t})=>{let i,s=(e.changedTouches?e.changedTouches[0]:e).target,o=s._gsap||gsap.core.getCache(s),l=_getTime();if(!o._isScrollT||l-o._isScrollT>2e3){for(;s&&s!==_body&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!_overflow[(i=_getComputedStyle(s)).overflowY]&&!_overflow[i.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!_isViewport(s)&&(_overflow[(i=_getComputedStyle(s)).overflowY]||_overflow[i.overflowX]),o._isScrollT=l}(o._isScroll||"x"===t)&&(e.stopPropagation(),e._gsapAllow=!0)},_inputObserver=(e,r,t,i)=>Observer.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:i=i&&_nestedScroll,onPress:i,onDrag:i,onScroll:i,onEnable:()=>t&&_addListener(_doc,Observer.eventTypes[0],_captureInputs,!1,!0),onDisable:()=>_removeListener(_doc,Observer.eventTypes[0],_captureInputs,!0)}),_inputExp=/(input|label|select|textarea)/i,_captureInputs=e=>{let r=_inputExp.test(e.target.tagName);(r||_inputIsFocused)&&(e._gsapAllow=!0,_inputIsFocused=r)},_getScrollNormalizer=e=>{_isObject(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";let r,t,i,s,o,l,a,n,{normalizeScrollX:_,momentum:g,allowNestedScroll:c,onRelease:p}=e,d=_getTarget(e.target)||_docEl,h=gsap.core.globals().ScrollSmoother,f=h&&h.get(),u=_fixIOSBug&&(e.content&&_getTarget(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),m=_getScrollFunc(d,_vertical),v=_getScrollFunc(d,_horizontal),y=1,S=(Observer.isTouch&&_win.visualViewport?_win.visualViewport.scale*_win.visualViewport.width:_win.outerWidth)/_win.innerWidth,b=0,w=_isFunction(g)?()=>g(r):()=>g||2.8,x=_inputObserver(d,e.type,!0,c),T=()=>s=!1,A=_passThrough,k=_passThrough,C=()=>{t=_maxScroll(d,_vertical),k=_clamp(_fixIOSBug?1:0,t),_&&(A=_clamp(0,_maxScroll(d,_horizontal))),i=_refreshID},P=()=>{u._gsap.y=_round(parseFloat(u._gsap.y)+m.offset)+"px",u.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(u._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},R=()=>{C(),o.isActive()&&o.vars.scrollY>t&&(m()>t?o.progress(1)&&m(t):o.resetTo("scrollY",t))};return u&&gsap.set(u,{y:"+=0"}),e.ignoreCheck=e=>_fixIOSBug&&"touchmove"===e.type&&(()=>{if(s){requestAnimationFrame(T);let e=_round(r.deltaY/2),t=k(m.v-e);if(u&&t!==m.v+m.offset){m.offset=t-m.v;let e=_round((parseFloat(u&&u._gsap.y)||0)-m.offset);u.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",u._gsap.y=e+"px",m.cacheID=_scrollers.cache,_updateAll()}return!0}m.offset&&P(),s=!0})()||y>1.05&&"touchstart"!==e.type||r.isGesturing||e.touches&&e.touches.length>1,e.onPress=()=>{s=!1;let e=y;y=_round((_win.visualViewport&&_win.visualViewport.scale||1)/S),o.pause(),e!==y&&_allowNativePanning(d,y>1.01||!_&&"x"),l=v(),a=m(),C(),i=_refreshID},e.onRelease=e.onGestureStart=(e,r)=>{if(m.offset&&P(),r){_scrollers.cache++;let r,i,s=w();_&&(r=v(),i=r+.05*s*-e.velocityX/.227,s*=_clampScrollAndGetDurationMultiplier(v,r,i,_maxScroll(d,_horizontal)),o.vars.scrollX=A(i)),r=m(),i=r+.05*s*-e.velocityY/.227,s*=_clampScrollAndGetDurationMultiplier(m,r,i,_maxScroll(d,_vertical)),o.vars.scrollY=k(i),o.invalidate().duration(s).play(.01),(_fixIOSBug&&o.vars.scrollY>=t||r>=t-1)&&gsap.to({},{onUpdate:R,duration:s})}else n.restart(!0);p&&p(e)},e.onWheel=()=>{o._ts&&o.pause(),_getTime()-b>1e3&&(i=0,b=_getTime())},e.onChange=(e,r,t,s,o)=>{if(_refreshID!==i&&C(),r&&_&&v(A(s[2]===r?l+(e.startX-e.x):v()+r-s[1])),t){m.offset&&P();let r=o[2]===t,i=r?a+e.startY-e.y:m()+t-o[1],s=k(i);r&&i!==s&&(a+=s-i),m(s)}(t||r)&&_updateAll()},e.onEnable=()=>{_allowNativePanning(d,!_&&"x"),ScrollTrigger.addEventListener("refresh",R),_addListener(_win,"resize",R),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=v.smooth=!1),x.enable()},e.onDisable=()=>{_allowNativePanning(d,!0),_removeListener(_win,"resize",R),ScrollTrigger.removeEventListener("refresh",R),x.kill()},e.lockAxis=!1!==e.lockAxis,r=new Observer(e),r.iOS=_fixIOSBug,_fixIOSBug&&!m()&&m(1),_fixIOSBug&&gsap.ticker.add(_passThrough),n=r._dc,o=gsap.to(r,{ease:"power4",paused:!0,inherit:!1,scrollX:_?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:_interruptionTracker(m,m(),(()=>o.pause()))},onUpdate:_updateAll,onComplete:n.vars.onComplete}),r};ScrollTrigger.sort=e=>{if(_isFunction(e))return _triggers.sort(e);let r=_win.pageYOffset||0;return ScrollTrigger.getAll().forEach((e=>e._sortY=e.trigger?r+e.trigger.getBoundingClientRect().top:e.start+_win.innerHeight)),_triggers.sort(e||((e,r)=>-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+-1e6*(r.vars.refreshPriority||0))))},ScrollTrigger.observe=e=>new Observer(e),ScrollTrigger.normalizeScroll=e=>{if(void 0===e)return _normalizer;if(!0===e&&_normalizer)return _normalizer.enable();if(!1===e)return _normalizer&&_normalizer.kill(),void(_normalizer=e);let r=e instanceof Observer?e:_getScrollNormalizer(e);return _normalizer&&_normalizer.target===r.target&&_normalizer.kill(),_isViewport(r.target)&&(_normalizer=r),r},ScrollTrigger.core={_getVelocityProp:_getVelocityProp,_inputObserver:_inputObserver,_scrollers:_scrollers,_proxies:_proxies,bridge:{ss:()=>{_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:()=>_refreshing}},_getGSAP()&&gsap.registerPlugin(ScrollTrigger);export{ScrollTrigger as default};