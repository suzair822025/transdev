$.fn.circleType=function(t){var e={dir:1,position:"relative"};if("function"!=typeof $.fn.lettering){console.log("Lettering.js is required");return}return this.each(function(){t&&$.extend(e,t);var i,n,r=this,o=180/Math.PI,f=parseInt($(r).css("line-height"),10),s=parseInt($(r).css("font-size"),10),a=r.innerHTML.replace(/^\s+|\s+$/g,"").replace(/\s/g,"&nbsp;");r.innerHTML=a,$(r).lettering(),r.style.position=e.position,n=Math.floor((i=r.getElementsByTagName("span")).length/2);var l=function(){var t,n,a,l,g,h,u,p,c=0,m=0;for(t=0;t<i.length;t++)c+=i[t].offsetWidth;for(n=c/Math.PI/2+f,e.fluid&&!e.fitText?e.radius=Math.max(r.offsetWidth/2,n):e.radius||(e.radius=n),a=-1===e.dir?"center "+(-e.radius+f)/s+"em":"center "+e.radius/s+"em",l=e.radius-f,t=0;t<i.length;t++)m+=(g=i[t]).offsetWidth/2/l*o,g.rot=m,m+=g.offsetWidth/2/l*o;for(t=0;t<i.length;t++)h=(g=i[t]).style,p="rotate("+(u=-m*e.dir/2+g.rot*e.dir)+"deg)",h.position="absolute",h.left="50%",h.marginLeft=-(g.offsetWidth/2)/s+"em",h.webkitTransform=p,h.MozTransform=p,h.OTransform=p,h.msTransform=p,h.transform=p,h.webkitTransformOrigin=a,h.MozTransformOrigin=a,h.OTransformOrigin=a,h.msTransformOrigin=a,h.transformOrigin=a,-1===e.dir&&(h.bottom=0);e.fitText&&("function"!=typeof $.fn.fitText?console.log("FitText.js is required when using the fitText option"):($(r).fitText(),$(window).resize(function(){d()}))),d()},g=function(t){var e=document.documentElement,i=t.getBoundingClientRect();return{top:i.top+window.pageYOffset-e.clientTop,left:i.left+window.pageXOffset-e.clientLeft,height:i.height}},d=function(){var t,e=g(i[n]),o=g(i[0]);t=e.top<o.top?o.top-e.top+o.height:e.top-o.top+o.height,r.style.height=t+"px"};e.fluid&&!e.fitText&&$(window).resize(function(){l()}),"complete"!==document.readyState?(r.style.visibility="hidden",$(window).load(function(){r.style.visibility="visible",l()})):l()})};